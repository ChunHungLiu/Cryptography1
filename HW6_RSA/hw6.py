import gmpy2
import math
from gmpy2 import *
print "************** exp1 **************";
N = """
    17976931348623159077293051907890247336179769789423065727343008115
    77326758055056206869853794492129829595855013875371640157101398586
    47833778606925583497541085196591615128057575940752635007475935288
    71082364994994077189561705436114947486504671101510156394068052754
    0071584560878577663743040086340742855278549092581"""
N_big = mpz(N);
A = isqrt(N_big);
A = add(A, 1);
A2 = square(A);
A2_N = sub(A2, N_big);
x = isqrt(A2_N);
q = add(A, x);
p = sub(A, x);
pq = mul(p, q);
print digits(p);
print digits(q);
print pq == N_big;

print "************** exp2 **************";
N = """
    6484558428080716696628242653467722787263437207069762630604390703787
    9730861808111646271401527606141756919558732184025452065542490671989
    2428844841839353281972988531310511738648965962582821502504990264452
    1008852816733037111422964210278402893076574586452336833570778346897
    15838646088239640236866252211790085787877"""
N_big = mpz(N);
A = isqrt(N_big);
#A = add(A,1);
print int(math.pow(2,20));
flag = 0;
while flag == 0:
    A = add(A,1);
    A2 = square(A);
    A2_N = sub(A2, N_big);
    x = isqrt(A2_N);
    q = add(A, x);
    p = sub(A, x);
    pq = mul(p, q);
    if pq == N_big:
        print digits(p);
        print digits(q);
        flag = 1;

print "************** exp3 **************";
N = """
    72006226374735042527956443552558373833808445147399984182665305798191
    63556901883377904234086641876639384851752649940178970835240791356868
    77441155132015188279331812309091996246361896836573643119174094961348
    52463970788523879939683923036467667022162701835329944324119217381272
    9276147530748597302192751375739387929"""

N_big = mpz(N);
N24 = mul(N_big, 24);
A = isqrt(N24);
A = add(A, 1);
A2 = square(A);
A2_N24 = sub(A2, N24);
x = isqrt(A2_N24);
#x = sub(x,2);
q = add(A, x);
p = sub(A, x);

q = div(q, 4);
p = div(p, 6);
pq = mul(p, q);
print pq == N_big;
print p;
print q;
   

        

